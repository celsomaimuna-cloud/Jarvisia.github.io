<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Jarvis IA</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <style>
        body {
            transition: background 0.5s, color 0.5s;
        }
        .dark {
            background-color: #2D3748;
            color: # White;
        }
        .light {
            background-color: #FFFFFF;
            color: #000000;
        }
        #chat {
            max-height: 500px;
            overflow-y: scroll;
        }
    </style>
</head>
<body class="light">
    <div class="container mx-auto p-5">
        <h1 class="text-2xl font-bold">Jarvis AI Application</h1>
        <div class="mt-5">
            <button id="themeToggle" class="bg-blue-500 text-white p-2 rounded">Toggle Dark/Light Theme</button>
        </div>
        <div>
            <div id="chat" class="border border-gray-300 rounded-lg p-5 mt-3"></div>
            <textarea id="userInput" class="border border-gray-300 rounded-lg p-2 mt-3 w-full" rows="3" placeholder="Type your message..."></textarea>
            <button id="sendMessage" class="bg-green-500 text-white p-2 rounded mt-3">Send</button>
        </div>
    </div>
    <script>
        const chat = document.getElementById('chat');
        const userInput = document.getElementById('userInput');
        const sendMessage = document.getElementById('sendMessage');
        const themeToggle = document.getElementById('themeToggle');
        let isDark = false;

        function appendMessage(sender, message) {
            const messageElement = document.createElement('div');
            messageElement.textContent = sender + ': ' + message;
            chat.appendChild(messageElement);
            chat.scrollTop = chat.scrollHeight;
        }

        sendMessage.addEventListener('click', () => {
            const userMessage = userInput.value;
            appendMessage('User', userMessage);
            userInput.value = '';
            // Simulating AI response
            setTimeout(() => {
                appendMessage('Jarvis', 'This is a simulated response.');
            }, 1000);
        });

        themeToggle.addEventListener('click', () => {
            isDark = !isDark;
            document.body.className = isDark ? 'dark' : 'light';
        });

        // Voice recognition setup
        const recognition = new (window.SpeechRecognition || window.webkitSpeechRecognition)();
        recognition.onresult = (event) => {
            const transcript = event.results[0][0].transcript;
            userInput.value = transcript;
            recognition.stop();
            sendMessage.click();
        };

        document.addEventListener('keydown', (event) => {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendMessage.click();
            }
        });

        // Start voice recognition
        recognition.start();
    </script>
</body>
</html>